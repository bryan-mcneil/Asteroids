#include "bullet.h"

/*********************************************************************
* Default Constructor
**********************************************************************/
Bullet::Bullet()
{
	timer = 40;
	return;
}


/*********************************************************************
* Fires Bullet out
**********************************************************************/
void Bullet::fire(Point p, float angle, float x, float y)
{
	vel.setDx(BULLET_SPEED * (-cos(3.14f / 180.0f * angle)) + x);
	vel.setDy(BULLET_SPEED * (sin(3.14f / 180.9f * angle)) + y);

	return;
}

/*********************************************************************
* The Bullet is no longer active
**********************************************************************/
void Bullet::kill()
{
	setAlive(false);
}

/*********************************************************************
* Draws bullet (drawDot)
**********************************************************************/
void Bullet::draw()
{
	drawDot(pos);

	return;
}

/*********************************************************************
* Moves Bullet
**********************************************************************/
void Bullet::advance()
{
	pos.addX(vel.getDx());
	pos.addY(vel.getDy());

	return;
}


/*********************************************************************
* Kills Bullet in 40 frames
**********************************************************************/
void Bullet::time()
{
	if (timer == 0)
	{
		kill();
	}
	else
	{
		timer--;
	}


	return;
}
